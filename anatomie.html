<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title data-i18n="page.title">Human3D Clinic – Anatomie du cœur</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- model-viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    :root {
      --bg: #050816;
      --bg-secondary: #0b1020;
      --accent: #22d3ee;
      --accent-soft: rgba(34, 211, 238, 0.12);
      --text: #f9fafb;
      --muted: #9ca3af;
      --card: #0f172a;
      --border: #1f2937;
      --radius-xl: 20px;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
    body{background:radial-gradient(circle at top,#1e293b 0,#020617 50%,#000 100%);color:var(--text);min-height:100vh;display:flex;flex-direction:column}
    header{border-bottom:1px solid var(--border);background:rgba(15,23,42,.9);backdrop-filter:blur(18px);position:sticky;top:0;z-index:50}
    .nav{max-width:1200px;margin:0 auto;padding:.8rem 1.5rem;display:flex;align-items:center;justify-content:space-between;gap:1rem}
    .logo{display:flex;align-items:center;gap:.6rem;cursor:pointer}
    .logo-icon{width:34px;height:34px;border-radius:999px;background:radial-gradient(circle at 30% 20%,#38bdf8,#0ea5e9,#22c55e);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.1rem;color:#0b1120;box-shadow:0 0 18px rgba(56,189,248,.7)}
    .logo-text-main{font-weight:700;letter-spacing:.04em;font-size:.95rem}
    .logo-text-sub{font-size:.7rem;color:var(--muted)}
    .lang-switch{display:flex;gap:.4rem;align-items:center;font-size:.8rem}
    .lang-btn{border-radius:999px;border:1px solid var(--border);background:transparent;color:var(--muted);padding:.1rem .55rem;cursor:pointer;font-size:.7rem;transition:.2s}
    .lang-btn.active,.lang-btn:hover{color:var(--text);border-color:var(--accent);background:var(--accent-soft)}
    main{flex:1}
    .page-wrapper{max-width:1200px;margin:1.5rem auto 2.5rem auto;padding:0 1.5rem;display:grid;grid-template-columns:minmax(0,3fr) minmax(0,2.5fr);gap:2rem}
    @media(max-width:900px){.page-wrapper{grid-template-columns:1fr}}
    .course-card{border-radius:var(--radius-xl);border:1px solid var(--border);background:rgba(15,23,42,.95);padding:1rem 1.2rem;box-shadow:0 18px 50px rgba(15,23,42,.9)}
    .course-badge{display:inline-flex;align-items:center;gap:.35rem;padding:.2rem .7rem;border-radius:999px;border:1px solid var(--accent-soft);background:rgba(15,23,42,.9);font-size:.7rem;color:var(--muted);margin-bottom:.7rem}
    .course-title{font-size:1.4rem;font-weight:700;margin-bottom:.5rem}
    .course-level{font-size:.8rem;color:var(--muted);margin-bottom:.8rem}
    .course-section-title{font-size:1rem;font-weight:600;margin-top:.9rem;margin-bottom:.3rem}
    .course-text{font-size:.9rem;color:var(--muted);line-height:1.5;margin-bottom:.4rem}
    .course-list{margin-left:1rem;margin-bottom:.4rem;font-size:.9rem;color:var(--muted)}
    .course-list li{margin-bottom:.2rem}
    .course-note{font-size:.8rem;color:#9ca3af;margin-top:.6rem;font-style:italic}
    .hero-visual{border-radius:24px;background:radial-gradient(circle at 10% 10%,rgba(34,211,238,.15),transparent 55%),radial-gradient(circle at 90% 90%,rgba(168,85,247,.25),transparent 60%),var(--bg-secondary);padding:1rem;border:1px solid rgba(15,23,42,.9);box-shadow:0 20px 60px rgba(15,23,42,.9);min-height:220px}
    .tabs{display:flex;gap:10px;margin-top:.5rem;margin-bottom:.5rem}
    .tab{cursor:pointer;padding:5px 10px;background:var(--card);border:1px solid var(--border);border-radius:5px;color:var(--muted);font-size:.75rem;transition:.2s}
    .tab.active{background:var(--accent-soft);color:var(--text);border-color:var(--accent)}
    model-viewer{width:100%;height:340px;background:#020617;border-radius:14px;margin-top:.4rem}
    .timeline{font-size:.75rem;display:grid;grid-template-columns:repeat(2,1fr);gap:.3rem .8rem;margin-top:.7rem}
    .timeline-item{padding:.25rem .5rem;border-radius:999px;background:rgba(15,23,42,.85);border:1px solid rgba(15,23,42,.9);display:flex;justify-content:space-between;gap:.4rem}
    .timeline-label{color:var(--muted)}
    .floating-badge{position:absolute;left:1.1rem;bottom:1.1rem;padding:.35rem .7rem;border-radius:14px;background:rgba(15,23,42,.92);border:1px solid rgba(148,163,184,.35);font-size:.7rem;display:flex;flex-direction:column;gap:.1rem}
    .floating-badge span:nth-child(1){font-size:.65rem;color:var(--muted)}
    .floating-badge span:nth-child(2){font-size:.78rem;font-weight:600}
    .back-link{display:inline-flex;align-items:center;gap:.3rem;font-size:.78rem;color:var(--muted);text-decoration:none;margin-bottom:.6rem}
    .back-link:hover{color:var(--accent)}
  </style>
</head>

<body>

<header>
  <nav class="nav">
    <div class="logo">
      <div class="logo-icon">H</div>
      <div>
        <div class="logo-text-main">Human3D Clinic</div>
        <div class="logo-text-sub" data-i18n="logo.subtitle">Anatomie – Cœur</div>
      </div>
    </div>

    <div class="lang-switch">
      <button class="lang-btn active" data-lang="fr">FR</button>
      <button class="lang-btn" data-lang="en">EN</button>
      <button class="lang-btn" data-lang="es">ES</button>
    </div>
  </nav>
</header>

<main>
  <div class="page-wrapper">

    <!-- LEFT : TEXT -->
    <div class="course-card">
      <div class="course-badge" data-i18n="course.badge">Anatomie – Appareil cardiovasculaire</div>
      <div class="course-title" data-i18n="course.title">Cœur : anatomie essentielle</div>
      <div class="course-level" data-i18n="course.level">Niveau : 1re / 2e année de médecine</div>

      <div class="course-text" data-i18n="course.intro">
        Le cœur est un organe musculaire…
      </div>

      <!-- EXTERNAL -->
      <div class="course-section-title" data-i18n="course.ext.title"></div>
      <div class="course-text" data-i18n="course.ext.text"></div>
      <ul class="course-list">
        <li data-i18n="course.ext.item1"></li>
        <li data-i18n="course.ext.item2"></li>
        <li data-i18n="course.ext.item3"></li>
        <li data-i18n="course.ext.item4"></li>
      </ul>

      <!-- INTERNAL -->
      <div class="course-section-title" data-i18n="course.int.title"></div>
      <div class="course-text" data-i18n="course.int.text"></div>
      <ul class="course-list">
        <li data-i18n="course.int.item1"></li>
        <li data-i18n="course.int.item2"></li>
        <li data-i18n="course.int.item3"></li>
        <li data-i18n="course.int.item4"></li>
      </ul>

      <!-- VALVES -->
      <div class="course-section-title" data-i18n="course.valves.title"></div>
      <div class="course-text" data-i18n="course.valves.text"></div>
      <ul class="course-list">
        <li data-i18n="course.valves.item1"></li>
        <li data-i18n="course.valves.item2"></li>
        <li data-i18n="course.valves.item3"></li>
        <li data-i18n="course.valves.item4"></li>
      </ul>

      <!-- VASCULAR -->
      <div class="course-section-title" data-i18n="course.vasc.title"></div>
      <div class="course-text" data-i18n="course.vasc.text"></div>
      <ul class="course-list">
        <li data-i18n="course.vasc.item1"></li>
        <li data-i18n="course.vasc.item2"></li>
        <li data-i18n="course.vasc.item3"></li>
      </ul>

      <!-- CLINICAL -->
      <div class="course-section-title" data-i18n="course.clinical.title"></div>
      <ul class="course-list">
        <li data-i18n="course.clinical.item1"></li>
        <li data-i18n="course.clinical.item2"></li>
        <li data-i18n="course.clinical.item3"></li>
      </ul>

      <div class="course-note" data-i18n="course.note"></div>

      <a href="index.html" class="back-link" data-i18n="back.home">Retour à la page d’accueil</a>

    </div>

    <!-- RIGHT : 3D -->
    <div class="hero-visual">
      <div class="hero-visual-title" data-i18n="viewer.title">Cœur – Vue 3D interactive</div>
      <div class="hero-visual-sub" data-i18n="viewer.subtitle">Basculer entre cœur normal et pathologique</div>

      <div class="tabs">
        <div class="tab active" data-src="models/heart_normal.glb" data-i18n="viewer.tab.normal">Normal</div>
        <div class="tab" data-src="models/heart_pathology.glb" data-i18n="viewer.tab.pathologie">Pathologie</div>
      </div>

      <model-viewer id="heartViewer"
        src="models/heart_normal.glb"
        alt="3D heart"
        auto-rotate
        camera-controls
        shadow-intensity="1">
      </model-viewer>

      <div class="timeline">
        <div class="timeline-item">
          <span class="timeline-label" data-i18n="timeline.vascular"></span>
        </div>
        <div class="timeline-item">
          <span class="timeline-label" data-i18n="timeline.drainage"></span>
        </div>
      </div>

      <div class="floating-badge">
        <span data-i18n="viewer.patho.label">Anatomie & Pathologie en 3D</span>
        <span data-i18n="viewer.level.label">Niveau : 1re → 6e année</span>
      </div>

    </div>

  </div>
</main>

<script>
  /* --- Traductions --- */
  const translations = JSON.parse(JSON.stringify(<?= JSON.stringify(translations) ?>));

  /* --- Changement de langue --- */
  function setLang(lang) {
    document.documentElement.setAttribute("lang", lang);
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      const key=el.dataset.i18n;
      if(translations[lang]?.[key]) el.textContent=translations[lang][key];
    });
    document.querySelectorAll(".lang-btn").forEach(btn=>{
      btn.classList.toggle("active", btn.dataset.lang===lang);
    });
    document.title = translations[lang]["page.title"];
  }

  document.addEventListener("DOMContentLoaded",()=>{
    setLang("fr");

    document.querySelectorAll(".lang-btn").forEach(btn=>{
      btn.addEventListener("click",()=>setLang(btn.dataset.lang));
    });

    document.querySelector(".logo").addEventListener("click",()=>{
      window.location.href="index.html";
    });

    document.querySelectorAll(".tab").forEach(tab=>{
      tab.addEventListener("click",()=>{
        document.getElementById("heartViewer").setAttribute("src",tab.dataset.src);

        document.querySelectorAll(".tab").forEach(t=>{
          t.classList.remove("active");
        });
        tab.classList.add("active");
      });
    });

  });
</script>

</body>
</html>
