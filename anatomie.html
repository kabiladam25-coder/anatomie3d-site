<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title data-i18n="page.title">Human3D Clinic – Anatomie du cœur</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- model-viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    :root {
      --bg: #050816;
      --bg-secondary: #0b1020;
      --accent: #22d3ee;
      --accent-soft: rgba(34, 211, 238, 0.12);
      --text: #f9fafb;
      --muted: #9ca3af;
      --card: #0f172a;
      --border: #1f2937;
      --radius-xl: 20px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: radial-gradient(circle at top, #1e293b 0, #020617 50%, #000 100%);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      border-bottom: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(18px);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .nav {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0.8rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      cursor: pointer;
    }

    .logo-icon {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #38bdf8, #0ea5e9, #22c55e);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 1.1rem;
      color: #0b1120;
      box-shadow: 0 0 18px rgba(56, 189, 248, 0.7);
    }

    .logo-text-main {
      font-weight: 700;
      letter-spacing: 0.04em;
      font-size: 0.95rem;
    }

    .logo-text-sub {
      font-size: 0.7rem;
      color: var(--muted);
    }

    .lang-switch {
      display: flex;
      gap: 0.4rem;
      align-items: center;
      font-size: 0.8rem;
    }

    .lang-btn {
      border-radius: 999px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--muted);
      padding: 0.1rem 0.55rem;
      cursor: pointer;
      font-size: 0.7rem;
      transition: all 0.2s ease;
    }

    .lang-btn.active,
    .lang-btn:hover {
      color: var(--text);
      border-color: var(--accent);
      background: var(--accent-soft);
    }

    main {
      flex: 1;
    }

    .page-wrapper {
      max-width: 1200px;
      margin: 1.5rem auto 2.5rem auto;
      padding: 0 1.5rem;
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.5fr);
      gap: 2rem;
    }

    @media (max-width: 900px) {
      .page-wrapper {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    /* Bloc gauche : texte du cours */
    .course-card {
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.95);
      padding: 1rem 1.2rem;
      box-shadow: 0 18px 50px rgba(15, 23, 42, 0.9);
    }

    .course-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0.2rem 0.7rem;
      border-radius: 999px;
      border: 1px solid var(--accent-soft);
      background: rgba(15, 23, 42, 0.9);
      font-size: 0.7rem;
      color: var(--muted);
      margin-bottom: 0.7rem;
    }

    .course-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .course-level {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 0.8rem;
    }

    .course-section-title {
      font-size: 1rem;
      font-weight: 600;
      margin-top: 0.9rem;
      margin-bottom: 0.3rem;
    }

    .course-text {
      font-size: 0.9rem;
      color: var(--muted);
      line-height: 1.5;
      margin-bottom: 0.4rem;
    }

    .course-list {
      margin-left: 1rem;
      margin-bottom: 0.4rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .course-list li {
      margin-bottom: 0.2rem;
    }

    .course-note {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-top: 0.6rem;
      font-style: italic;
    }

    /* Bloc droit : viewer 3D */
    .hero-visual {
      border-radius: 24px;
      background: radial-gradient(circle at 10% 10%, rgba(34, 211, 238, 0.15), transparent 55%),
                  radial-gradient(circle at 90% 90%, rgba(168, 85, 247, 0.25), transparent 60%),
                  var(--bg-secondary);
      padding: 1rem;
      border: 1px solid rgba(15, 23, 42, 0.9);
      box-shadow: 0 20px 60px rgba(15, 23, 42, 0.9);
      position: relative;
      overflow: hidden;
      min-height: 220px;
    }

    .hero-visual-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }

    .hero-visual-sub {
      font-size: 0.75rem;
      color: var(--muted);
      margin-bottom: 0.6rem;
    }

    .tabs {
      display: flex;
      gap: 10px;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .tab {
      cursor: pointer;
      padding: 5px 10px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 5px;
      color: var(--muted);
      font-size: 0.75rem;
      transition: all 0.2s ease;
    }

    .tab.active {
      background: var(--accent-soft);
      color: var(--text);
      border-color: var(--accent);
    }

    model-viewer {
      width: 100%;
      height: 340px;
      background: #020617;
      border-radius: 14px;
      margin-top: 0.4rem;
    }

    .timeline {
      font-size: 0.75rem;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.3rem 0.8rem;
      margin-top: 0.7rem;
    }

    .timeline-item {
      padding: 0.25rem 0.5rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(15, 23, 42, 0.9);
      display: flex;
      justify-content: space-between;
      gap: 0.4rem;
    }

    .timeline-label {
      color: var(--muted);
    }

    .floating-badge {
      position: absolute;
      left: 1.1rem;
      bottom: 1.1rem;
      padding: 0.35rem 0.7rem;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.92);
      border: 1px solid rgba(148, 163, 184, 0.35);
      font-size: 0.7rem;
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }

    .floating-badge span:nth-child(1) {
      font-size: 0.65rem;
      color: var(--muted);
    }

    .floating-badge span:nth-child(2) {
      font-size: 0.78rem;
      font-weight: 600;
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      font-size: 0.78rem;
      color: var(--muted);
      text-decoration: none;
      margin-bottom: 0.6rem;
    }

    .back-link:hover {
      color: var(--accent);
    }
  </style>

  <script>
    function setLang(lang) {
      document.documentElement.setAttribute("lang", lang);
      document.querySelectorAll("[data-i18n]").forEach(function (el) {
        const key = el.getAttribute("data-i18n");
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
      document.querySelectorAll(".lang-btn").forEach(btn => {
        btn.classList.toggle("active", btn.dataset.lang === lang);
      });
      document.title = translations[lang]["page.title"];
    }

    const translations = {
      fr: {
        "page.title": "Human3D Clinic – Anatomie du cœur",
        "logo.subtitle": "Anatomie – Cœur",
        "course.badge": "Anatomie – Appareil cardiovasculaire",
        "course.title": "Cœur : anatomie essentielle",
        "course.level": "Niveau : 1re / 2e année de médecine",
        "course.intro": "Le cœur est un organe musculaire creux situé dans le médiastin moyen. Il fonctionne comme une pompe qui propulse le sang dans la circulation pulmonaire et la circulation systémique.",
        "course.ext.title": "1. Anatomie externe",
        "course.ext.text": "Le cœur a globalement la forme d’un cône renversé :",
        "course.ext.item1": "Apex (pointe) dirigé vers le bas, la gauche et l’avant.",
        "course.ext.item2": "Base postérieure formée principalement par l’oreillette gauche.",
        "course.ext.item3": "Faces : sternocostale (antérieure), diaphragmatique (inférieure) et pulmonaire (latérale).",
        "course.ext.item4": "Sillons : sillon atrio-ventriculaire et sillons interventriculaires (antérieur et postérieur).",
        "course.int.title": "2. Cavités internes",
        "course.int.text": "Le cœur comporte quatre cavités :",
        "course.int.item1": "Oreillette droite : reçoit le sang veineux des veines caves supérieure et inférieure.",
        "course.int.item2": "Ventricule droit : envoie le sang vers les poumons par le tronc pulmonaire.",
        "course.int.item3": "Oreillette gauche : reçoit le sang oxygéné venant des veines pulmonaires.",
        "course.int.item4": "Ventricule gauche : propulse le sang dans l’aorte vers la circulation générale.",
        "course.valves.title": "3. Valves cardiaques",
        "course.valves.text": "Les valves cardiaques assurent un flux sanguin unidirectionnel :",
        "course.valves.item1": "Valve tricuspide : entre oreillette droite et ventricule droit.",
        "course.valves.item2": "Valve mitrale (bicuspide) : entre oreillette gauche et ventricule gauche.",
        "course.valves.item3": "Valve pulmonaire : entre ventricule droit et tronc pulmonaire.",
        "course.valves.item4": "Valve aortique : entre ventricule gauche et aorte.",
        "course.vasc.title": "4. Vascularisation du cœur",
        "course.vasc.text": "Le myocarde est vascularisé par les artères coronaires :",
        "course.vasc.item1": "Coronaire droite : irrigue surtout le ventricule droit et une partie du septum.",
        "course.vasc.item2": "Coronaire gauche : se divise en interventriculaire antérieure (IVA) et circonflexe.",
        "course.vasc.item3": "Le retour veineux se fait par le sinus coronaire vers l’oreillette droite.",
        "course.clinical.title": "5. Petit rappel clinique",
        "course.clinical.item1": "Un obstacle dans une coronaire peut entraîner un infarctus du myocarde.",
        "course.clinical.item2": "Les souffles cardiaques peuvent être liés à une anomalie des valves (rétrécissement ou fuite).",
        "course.clinical.item3": "La connaissance de l’anatomie cardiaque est indispensable pour comprendre l’ECG et l’imagerie (échographie, IRM, scanner).",
        "course.note": "Ce résumé est inspiré d’articles de type encyclopédique (dont Wikipédia) et simplifié pour un niveau début de cursus.",
        "viewer.title": "Cœur – Vue 3D interactive",
        "viewer.subtitle": "Basculer entre cœur normal et cœur pathologique.",
        "timeline.vascular": "Vascularisation : coronaires, aorte",
        "timeline.drainage": "Drainage : veines caves, pulmonaires",
        "viewer.patho.label": "Anatomie & Pathologie en 3D",
        "viewer.level.label": "Niveau : 1re → 6e année",
        "viewer.tab.normal": "Normal",
        "viewer.tab.pathologie": "Pathologie",
        "back.home": "Retour à la page d’accueil"
      },

      en: {
        "page.title": "Human3D Clinic – Heart anatomy",
        "logo.subtitle": "Anatomy – Heart",
        "course.badge": "Anatomy – Cardiovascular system",
        "course.title": "Heart: essential anatomy",
        "course.level": "Level: 1st / 2nd year of medical school",
        "course.intro": "The heart is a hollow muscular organ located in the middle mediastinum. It works as a pump that drives blood through the pulmonary and systemic circulation.",
        "course.ext.title": "1. External anatomy",
        "course.ext.text": "The heart has the overall shape of an inverted cone:",
        "course.ext.item1": "Apex points downwards, to the left and forwards.",
        "course.ext.item2": "Base is posterior and mainly formed by the left atrium.",
        "course.ext.item3": "Surfaces: sternocostal (anterior), diaphragmatic (inferior), and pulmonary (lateral).",
        "course.ext.item4": "Grooves: atrioventricular groove and anterior/posterior interventricular grooves.",
        "course.int.title": "2. Internal chambers",
        "course.int.text": "The heart has four chambers:",
        "course.int.item1": "Right atrium: receives venous blood from superior and inferior vena cava.",
        "course.int.item2": "Right ventricle: sends blood to the lungs through the pulmonary trunk.",
        "course.int.item3": "Left atrium: receives oxygenated blood from pulmonary veins.",
        "course.int.item4": "Left ventricle: ejects blood into the aorta to the systemic circulation.",
        "course.valves.title": "3. Cardiac valves",
        "course.valves.text": "Valves ensure one-way blood flow:",
        "course.valves.item1": "Tricuspid valve: between right atrium and right ventricle.",
        "course.valves.item2": "Mitral (bicuspid) valve: between left atrium and left ventricle.",
        "course.valves.item3": "Pulmonary valve: between right ventricle and pulmonary trunk.",
        "course.valves.item4": "Aortic valve: between left ventricle and aorta.",
        "course.vasc.title": "4. Coronary blood supply",
        "course.vasc.text": "The myocardium is supplied by coronary arteries:",
        "course.vasc.item1": "Right coronary artery: mainly supplies the right ventricle and part of the septum.",
        "course.vasc.item2": "Left coronary artery: divides into LAD (anterior interventricular) and circumflex branches.",
        "course.vasc.item3": "Venous return goes through the coronary sinus into the right atrium.",
        "course.clinical.title": "5. Clinical notes",
        "course.clinical.item1": "An obstruction in a coronary artery may cause myocardial infarction.",
        "course.clinical.item2": "Heart murmurs may be caused by valve stenosis or regurgitation.",
        "course.clinical.item3": "Understanding cardiac anatomy is essential to interpret ECG and imaging (echo, MRI, CT).",
        "course.note": "This summary is inspired by encyclopedic sources (including Wikipedia) and simplified for early years of medical school.",
        "viewer.title": "Heart – Interactive 3D view",
        "viewer.subtitle": "Switch between normal and pathological heart.",
        "timeline.vascular": "Vascularization: coronaries, aorta",
        "timeline.drainage": "Drainage: venae cavae, pulmonary veins",
        "viewer.patho.label": "Anatomy & Pathology in 3D",
        "viewer.level.label": "Level: 1st → 6th year",
        "viewer.tab.normal": "Normal",
        "viewer.tab.pathologie": "Pathology",
        "back.home": "Back to home page"
      },

      es: {
        "page.title": "Human3D Clinic – Anatomía del corazón",
        "logo.subtitle": "Anatomía – Corazón",
        "course.badge": "Anatomía – Aparato cardiovascular",
        "course.title": "Corazón: anatomía esencial",
        "course.level": "Nivel: 1º / 2º año de medicina",
        "course.intro": "El corazón es un órgano muscular hueco situado en el mediastino medio. Funciona como una bomba que impulsa la sangre en la circulación pulmonar y sistémica.",
        "course.ext.title": "1. Anatomía externa",
        "course.ext.text": "El corazón tiene globalmente forma de cono invertido:",
        "course.ext.item1": "Ápex dirigido hacia abajo, la izquierda y adelante.",
        "course.ext.item2": "Base posterior formada sobre todo por la aurícula izquierda.",
        "course.ext.item3": "Caras: esternocostal (anterior), diafragmática (inferior) y pulmonar (lateral).",
        "course.ext.item4": "Surcos: auriculoventricular y surcos interventriculares (anterior y posterior).",
        "course.int.title": "2. Cavidades internas",
        "course.int.text": "El corazón tiene cuatro cavidades:",
        "course.int.item1": "Aurícula derecha: recibe la sangre venosa de las venas cavas superior e inferior.",
        "course.int.item2": "Ventrículo derecho: envía la sangre a los pulmones por el tronco pulmonar.",
        "course.int.item3": "Aurícula izquierda: recibe la sangre oxigenada de las venas pulmonares.",
        "course.int.item4": "Ventrículo izquierdo: impulsa la sangre a la aorta hacia la circulación sistémica.",
        "course.valves.title": "3. Válvulas cardíacas",
        "course.valves.text": "Las válvulas aseguran un flujo sanguíneo unidireccional:",
        "course.valves.item1": "Válvula tricúspide: entre aurícula derecha y ventrículo derecho.",
        "course.valves.item2": "Válvula mitral (bicúspide): entre aurícula izquierda y ventrículo izquierdo.",
        "course.valves.item3": "Válvula pulmonar: entre ventrículo derecho y tronco pulmonar.",
        "course.valves.item4": "Válvula aórtica: entre ventrículo izquierdo y aorta.",
        "course.vasc.title": "4. Irrigación coronaria",
        "course.vasc.text": "El miocardio está irrigado por las arterias coronarias:",
        "course.vasc.item1": "Coronaria derecha: irriga sobre todo el ventrículo derecho y parte del tabique.",
        "course.vasc.item2": "Coronaria izquierda: se divide en interventricular anterior (DA) y circunfleja.",
        "course.vasc.item3": "El retorno venoso se hace por el seno coronario hacia la aurícula derecha.",
        "course.clinical.title": "5. Recordatorio clínico",
        "course.clinical.item1": "Una obstrucción de una coronaria puede producir un infarto de miocardio.",
        "course.clinical.item2": "Los soplos cardíacos pueden deberse a estenosis o insuficiencia valvular.",
        "course.clinical.item3": "Conocer la anatomía cardíaca es esencial para comprender el ECG y la imagen (eco, RM, TC).",
        "course.note": "Este resumen se inspira en fuentes enciclopédicas (incluida Wikipedia) y está simplificado para los primeros años de medicina.",
        "viewer.title": "Corazón – Vista 3D interactiva",
        "viewer.subtitle": "Cambiar entre corazón normal y patológico.",
        "timeline.vascular": "Vascularización: coronarias, aorta",
        "timeline.drainage": "Drenaje: venas cavas y pulmonares",
        "viewer.patho.label": "Anatomía & Patología en 3D",
        "viewer.level.label": "Nivel: 1º → 6º año",
        "viewer.tab.normal": "Normal",
        "viewer.tab.pathologie": "Patología",
        "back.home": "Volver a la página de inicio"
      }
    };

    document.addEventListener("DOMContentLoaded", function () {
      setLang("fr");

      document.querySelectorAll(".lang-btn").forEach(button => {
        button.addEventListener("click", function () {
          setLang(this.dataset.lang);
        });
      });

      // Logo -> retour à l'accueil
      document.querySelector(".logo").addEventListener("click", () => {
        window.location.href = "index.html";
      });

      // Tabs Normal / Pathologie
      document.querySelectorAll(".tab").forEach(button => {
        button.addEventListener("click", (event) => {
          const src = event.target.getAttribute("data-src");
          document.querySelector("#heartViewer").setAttribute("src", src);

          document.querySelectorAll(".tab").forEach(btn => {
            btn.classList.remove("active");
            btn.setAttribute("aria-selected", "false");
          });

          event.target.classList.add("active");
          event.target.setAttribute("aria-selected", "true");
        });
      });
    });
  </script>
</head>

<body>
  <header>
    <nav class="nav">
      <div class="logo">
        <div class="logo-icon">3D</div>
        <div>
          <div class="logo-text-main">Human3D Clinic</div>
          <div class="logo-text-sub" data-i18n="logo.subtitle"></div>
        </div>
      </div>
      <div class="lang-switch">
        <span style="color:#6b7280;font-size:0.75rem;">Langues :</span>
        <button class="lang-btn active" data-lang="fr">FR</button>
        <button class="lang-btn" data-lang="en">EN</button>
        <button class="lang-btn" data-lang="es">ES</button>
      </div>
    </nav>
  </header>

  <main>
    <div class="page-wrapper">
      <!-- Bloc texte du cours -->
      <article class="course-card">
        <a href="index.html" class="back-link">
          ← <span data-i18n="back.home"></span>
        </a>

        <div class="course-badge" data-i18n="course.badge"></div>
        <h1 class="course-title" data-i18n="course.title"></h1>
        <p class="course-level" data-i18n="course.level"></p>

        <p class="course-text" data-i18n="course.intro"></p>

        <h2 class="course-section-title" data-i18n="course.ext.title"></h2>
        <p class="course-text" data-i18n="course.ext.text"></p>
        <ul class="course-list">
          <li data-i18n="course.ext.item1"></li>
          <li data-i18n="course.ext.item2"></li>
          <li data-i18n="course.ext.item3"></li>
          <li data-i18n="course.ext.item4"></li>
        </ul>

        <h2 class="course-section-title" data-i18n="course.int.title"></h2>
        <p class="course-text" data-i18n="course.int.text"></p>
        <ul class="course-list">
          <li data-i18n="course.int.item1"></li>
          <li data-i18n="course.int.item2"></li>
          <li data-i18n="course.int.item3"></li>
          <li data-i18n="course.int.item4"></li>
        </ul>

        <h2 class="course-section-title" data-i18n="course.valves.title"></h2>
        <p class="course-text" data-i18n="course.valves.text"></p>
        <ul class="course-list">
          <li data-i18n="course.valves.item1"></li>
          <li data-i18n="course.valves.item2"></li>
          <li data-i18n="course.valves.item3"></li>
          <li data-i18n="course.valves.item4"></li>
        </ul>

        <h2 class="course-section-title" data-i18n="course.vasc.title"></h2>
        <p class="course-text" data-i18n="course.vasc.text"></p>
        <ul class="course-list">
          <li data-i18n="course.vasc.item1"></li>
          <li data-i18n="course.vasc.item2"></li>
          <li data-i18n="course.vasc.item3"></li>
        </ul>

        <h2 class="course-section-title" data-i18n="course.clinical.title"></h2>
        <ul class="course-list">
          <li data-i18n="course.clinical.item1"></li>
          <li data-i18n="course.clinical.item2"></li>
          <li data-i18n="course.clinical.item3"></li>
        </ul>

        <p class="course-note" data-i18n="course.note"></p>
      </article>

      <!-- Bloc viewer 3D -->
      <section class="hero-visual">
        <div class="hero-visual-title" data-i18n="viewer.title"></div>
        <div class="hero-visual-sub" data-i18n="viewer.subtitle"></div>

        <div class="tabs" role="tablist" aria-label="Model tabs">
          <button class="tab active" role="tab" aria-selected="true"
            data-src="./assets/models/heart_normal.glb"
            data-i18n="viewer.tab.normal"></button>

          <button class="tab" role="tab" aria-selected="false"
            data-src="./assets/models/heart_pathology.glb"
            data-i18n="viewer.tab.pathologie"></button>
        </div>

        <model-viewer id="heartViewer"
          src="./assets/models/heart_normal.glb"
          ios-src="./assets/models/heart_normal.glb"
          alt="Cœur 3D"
          auto-rotate
          camera-controls
          ar>
        </model-viewer>

        <div class="timeline">
          <div class="timeline-item">
            <span class="timeline-label" data-i18n="timeline.vascular"></span>
          </div>
          <div class="timeline-item">
            <span class="timeline-label" data-i18n="timeline.drainage"></span>
          </div>
        </div>

        <div class="floating-badge">
          <span data-i18n="viewer.patho.label"></span>
          <span data-i18n="viewer.level.label"></span>
        </div>
      </section>
    </div>
  </main>
</body>
</html>

